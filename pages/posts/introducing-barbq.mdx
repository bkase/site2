import Page from '@reason/pages/Posts'; export default Page;

# Introducing Barbq

I'd always wanted to be a leet hacker growing up; I adored TUIs[^1]. MacOS eventually became my system of choice, and over a few years I'd managed to turn my macOS system into an almost perfect TUI dreamland. But the status bar was the last bastion. There were no TUI-aesthtic status-bar replacements for macOS. [Barbq](https://github.com/bkase/barbq) üçñ is the missing link!

![barbq status bar](/static/posts/introducing-barbq/barbq.png)

Barbq is a simple, no frills, terminal-based status bar. I host it in an instance of alacritty terminal[^2] which I pin to the top of the screen using the yabai tiling window manager.

## Motivation

Some teens rebel by staying out too late or skipping school or drinking. I rebelled by making computer viruses. Or at least I wanted to. The hacker aesthtic always attracted me. It's what got me into Linux in high school. When I discovered that it was possible to use the terminal to edit text[^3], to read email[^4], to listen to music[^5] -- I was hooked.

In University, one night before homework was due, I did a system upgrade on Arch Linux[^6]. I couldn't boot my machine for six hours. Linux had failed me. After that experience, I had to switch. I had to leave Linux. Since I happened to have a MacBook Pro from a Mozilla internship a few months prior[^7], it was easy for me to do it right then and there.

After many years, I'd finally gotten to the point where my system felt like i3-style desktop environment. Well almost, I couldn't find a good status bar.

Now it's complete:

![my environment](/static/posts/introducing-barbq/motivation.png)

To be clear: The above is not a Linux system. I am running macOS 10.15. You're just seeing the wonderful kitty terminals, yabai window manager, and barbq status bar inside alacritty.

## Features

* Widgets for yabai tabs, internal/external ip addrs, volume, battery, wifi, date
* Volume info grabbed via low-level C executable to avoid overhead of invoking osascript
* Resource efficient[^8]
* Modular and extensible[^9]

## Future work

* Support other data sourcing methods in addition to interval-based polling[^10]
* Cleaner and more usable layout methods for views
* More refined UI work regarding, colors, positiong, margins, and unicode decorations

## Installation

For up-to-date installation instructions [visit the GitHub project](https://github.com/bkase/barbq).

## Under the hood

Barbq is written in Haskell. And is this author's first "real" Haskell project.

Since this is a side-project, long-cuts[^11] were made in order to do things in an interesting manner. Look for future blog posts on the two interesting pieces here: (1) Using free applicative functors for creating model data to feed views and (2) building terminal-UI components in UI-paradigm-agnostic comonadic style.

I welcome all code reviews! If you have any experience with Haskell, I'd appreciate feedback on my code. Please open an issue in the project to let me know!

[^1]: Terminal User Interface.
[^2]: Alacritty is installed for you as a dependency when you build with Nix.
[^3]: Vim
[^4]: Pine
[^5]: Ncmpcpp
[^6]: Don't ever upgrade before homework is due.
[^7]: Mozilla gave its interns MacBook Pros to keep! Isn't that awesome?
[^8]: ~0.5% of CPU on my machine.
[^9]: Through the editing of Haskell code.
[^10]: Interrupts via HTTP server or mouse clicks for example.
[^11]: The opposite of a shortcut.
